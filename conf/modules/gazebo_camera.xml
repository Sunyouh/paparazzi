<!DOCTYPE module SYSTEM "module.dtd">
<module name="gazebo_camera" dir="gazebo_camera">
  <doc>
    <description>Camera module for gazebo simulation\n Set vehicle pose to the gazebo model and retrieve an image from camera </description>
  </doc>
  <header>
    <file name="gazebo_camera.h"/>
  </header>
  <init fun="gazebo_camera_init()"/>
  <periodic fun="gazebo_camera_periodic()" freq="5" autorun="TRUE"/>
  <makefile target="nps">
    <raw>
      nps.CXXFLAGS += $(shell pkg-config gazebo --cflags)
      nps.LDFLAGS  += $(shell pkg-config gazebo --libs)

      <!-- OpenCV for video debugging -->
      NPS_DEBUG_VIDEO ?= 0
      ifeq (,$(findstring $(NPS_DEBUG_VIDEO),0 FALSE))
      nps.CXXFLAGS += -DNPS_DEBUG_VIDEO
      nps.CXXFLAGS += $(shell pkg-config opencv)
      nps.LDFLAGS  += -lopencv_imgproc -lopencv_highgui -lopencv_core
      endif
    </raw>
    <file name="gazebo_camera.cpp"/>
  </makefile>
</module>
